我将分两个阶段严格执行**项目结构锚点**和**数值平衡锚点**的要求。

### **第一阶段：强制执行结构规范（新建文件）**
我将按照强制性项目结构要求，创建以下目录结构和空占位文件（或仅含最小头部注释）：

*   **`config/`**: `balance_config.py`, `drop_config.py`
*   **`core/`**: `attributes.py`, `cooldown.py`, `dodge.py`, `reactions.py`
*   **`entities/enemy_types/`**: `enemy_basic.py`, `enemy_fast.py`, `enemy_elite.py`
*   **`systems/`**: `core_system.py`, `cell_system.py`, `drop_system.py`
*   **`data/`** (JSON纯数据): `attributes.json`, `equipment_pool.json`, `core_data.json`, `cell_data.json`, `enemy_stats.json`
*   **`ui/`**: `equipment_ui.py`, `icons.py`
*   **`utils/`**: `math_utils.py`, `timer.py`, `random_utils.py`, `debug.py`
*   **文档**: `README.md`, `assets/README_ASSETS.md`

### **第二阶段：锚点对齐（修复逻辑）**
我将修改现有的核心文件，以符合**伤害结算顺序**和**属性定义**锚点。

#### **1. 修改 `data/attributes.py`**
*   **暴击伤害**: 将 `base` 从 200 改为 **150**（锚点要求）。
*   **穿透属性**: 移除 `phys_pen` 和 `magic_pen` 的 `max: 100` 限制，以明确支持**数值穿透**（锚点公式：防御 - 穿透）。
*   **减免属性**: 添加 `final_damage_reduction`（百分比减免，上限 60%）。

#### **2. 重写 `core/damage.py`**
*   严格实现 **6步伤害结算顺序**：
    1.  **基础伤害**: 确定类型（物理/魔法/真实/碰撞）。
    2.  **穿透计算**: `有效防御 = max(0, 防御值 - 穿透值)`（真实伤害跳过）。
    3.  **防御结算**: `实际伤害 = max(1, 基础伤害 - 有效防御)`（真实伤害跳过）。
    4.  **百分比减免**: `减免后伤害 = 实际伤害 * (1 - 减免%)`（上限60%，真实伤害跳过）。
    5.  **暴击计算**: `暴击伤害 = 减免后伤害 * 暴击倍率`（真实伤害跳过）。
    6.  **伤害加成**: `最终伤害 = 暴击伤害 * (1 + 伤害加成%)`。

### **合规性报告**
*   **功能实现位置**: 整个项目结构（`config`, `core`, `entities`, `systems`, `data`, `ui`, `utils`, `assets`）
*   **是否新增文件**: **是**（新增 25+ 个文件）
*   **是否触及锚点**: **是**（强制执行结构锚点 & 修复伤害锚点）
